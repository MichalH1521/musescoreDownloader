{% extends 'base_template.html' %}

{% block script %}
    <script>
        function validateForm(e) {
            e.preventDefault();
            pass = true;
            var urlInput = document.getElementById("url").value;
            if (urlInput.trim() === "") {
                alert("Please enter a URL before downloading.");
                pass = false;
            }
            if (!urlInput.toLowerCase().includes("musescore")) {
                alert("Only Musescore links are supported.");
                pass = false;
            }
            if (pass) {
                e.target.submit();
            }
        }
        window.onload = function() {
            document.querySelector("form").addEventListener("submit", validateForm);
        };
    </script>
{% endblock %}

{% block content %}
    <div class="card shadow-lg p-4" style="width: 400px;">
        <h2 class="text-center mb-4">Download Notesheet</h2>
        <form action="/notesheet" method="POST">
            <div class="mb-3">
                <label for="url" class="form-label">Enter URL:</label>
                <input type="url" id="url" name="url" class="form-control" placeholder="https://example.com" required>
            </div>
            <button type="submit" class="btn btn-primary w-100">Download</button>
        </form>
    </div>
{% endblock %}

